import{b as a,x as s,s as e,d as l,c as t,w as i,i as u,o as d,a as n,m as o,e as m,f as c,F as r,j as p,k as g}from"./index-D4obCAdV.js";import{_ as v}from"./uni-load-more.CU8IO5JV.js";import{_,o as f,a as y,g as h,h as j,i as k,j as S,r as w}from"./apis.DuY0HraE.js";const x=_({__name:"limitList",setup(_){f((()=>({title:"分享给朋友"+F.value,path:"/pages/limitList/limitList?id="+L.classid+"&name="+F.value}))),y((()=>({title:"分享到朋友圈",imageUrl:""})));const x=a([]),L={pageNum:1,pageSize:12},z=a(!1),F=a(null);h((a=>{let{id:e,name:l,type:t}=a;t&&(L.type=t),e&&(L.classid=e),F.value=l,s({title:l}),N()})),j((()=>{z.value||(L.pageNum++,N())}));const N=async()=>{let a;L.classid&&(a=await k(L)),L.type&&(a=await S(L)),x.value=[...x.value,...a.data],L.pageSize>a.data&&(z.value=!0),e("limitData",x.value)};return(a,s)=>{const e=w(l("uni-load-more"),v),_=u,f=p,y=g;return d(),t(_,{class:"limit"},{default:i((()=>[x.value.length?o("",!0):(d(),t(_,{key:0,class:"loadingSty"},{default:i((()=>[n(e,{status:"loading"})])),_:1})),n(_,{class:"centent"},{default:i((()=>[(d(!0),m(r,null,c(x.value,(a=>(d(),t(y,{url:"/pages/detail/detail?id="+a._id,class:"item",key:a._id},{default:i((()=>[n(f,{src:a.smallPicurl,mode:"aspectFill"},null,8,["src"])])),_:2},1032,["url"])))),128))])),_:1}),x.value.length?(d(),t(_,{key:1,class:"loadingSty"},{default:i((()=>[n(e,{status:z.value?"noMore":"loading"},null,8,["status"])])),_:1})):o("",!0),n(_,{class:"safe-height"})])),_:1})}}},[["__scopeId","data-v-1a48a3c8"]]);export{x as default};
