"use strict";const e=require("../../common/vendor.js"),a=require("../../api/apis.js");if(!Array){e.resolveComponent("uni-load-more")()}Math;const t={__name:"limitList",setup(t){e.onShareAppMessage((()=>({title:"分享给朋友"+n.value,path:"/pages/limitList/limitList?id="+l.classid+"&name="+n.value}))),e.onShareTimeline((()=>({title:"分享到朋友圈",imageUrl:""})));const i=e.ref([]),l={pageNum:1,pageSize:12},s=e.ref(!1),n=e.ref(null);e.onLoad((a=>{let{id:t,name:i,type:s}=a;s&&(l.type=s),t&&(l.classid=t),n.value=i,e.index.setNavigationBarTitle({title:i}),o()})),e.onReachBottom((()=>{s.value||(l.pageNum++,o())}));const o=async()=>{let t;l.classid&&(t=await a.apiGetLimitData(l)),l.type&&(t=await a.apiGetUserLimitData(l)),i.value=[...i.value,...t.data],l.pageSize>t.data&&(s.value=!0),e.index.setStorageSync("limitData",i.value)};return(a,t)=>e.e({a:!i.value.length},i.value.length?{}:{b:e.p({status:"loading"})},{c:e.f(i.value,((e,a,t)=>({a:e.smallPicurl,b:"/pages/detail/detail?id="+e._id,c:e._id}))),d:i.value.length},i.value.length?{e:e.p({status:s.value?"noMore":"loading"})}:{})}},i=e._export_sfc(t,[["__scopeId","data-v-1a48a3c8"]]);t.__runtimeHooks=6,wx.createPage(i);
