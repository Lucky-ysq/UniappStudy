{"version":3,"names":["common_vendor","onShareAppMessage","title","limitLocalName","value","path","limitLocalData","classid","onShareTimeline","imageUrl","limitData","ref","pageNum","pageSize","requireBool","onLoad","e","id","name","type","index","setNavigationBarTitle","getLimitData","onReachBottom","_ref","_asyncToGenerator2","_regeneratorRuntime2","mark","_callee","res","wrap","_callee$","_context","prev","next","api_apis","apiGetLimitData","sent","apiGetUserLimitData","concat","_toConsumableArray2","data","setStorageSync","stop","apply","arguments","wx","createPage","MiniProgramPage"],"sources":["limitList.vue","F:/HBuilder/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvbGltaXRMaXN0L2xpbWl0TGlzdC52dWU"],"sourcesContent":["<template>\r\n\t<view class=\"limit\">\r\n\t\t<view class=\"loadingSty\" v-if=\"!limitData.length\">\r\n\t\t\t<uni-load-more status=\"loading\"></uni-load-more>\r\n\t\t</view>\r\n\t\t<view class=\"centent\">\r\n\t\t\t<navigator :url=\"'/pages/detail/detail?id='+value._id\" class=\"item\" v-for=\"value in limitData\"\r\n\t\t\t\t:key=\"value._id\">\r\n\t\t\t\t<image :src=\"value.smallPicurl\" mode=\"aspectFill\"></image>\r\n\t\t\t</navigator>\r\n\t\t</view>\r\n\t\t<view class=\"loadingSty\" v-if=\"limitData.length\">\r\n\t\t\t<uni-load-more :status=\"requireBool?'noMore':'loading'\"></uni-load-more>\r\n\t\t</view> \r\n\r\n\t\t<view class=\"safe-height\">\r\n\r\n\t\t</view>\r\n\t</view> \r\n\r\n</template>\r\n\r\n<script setup>\r\n\timport {\r\n\t\tonLoad,\r\n\t\tonReachBottom,\r\n\t\tonShareAppMessage,\r\n\t\tonShareTimeline\r\n\t} from '@dcloudio/uni-app';\r\n\timport {\r\n\t\tref\r\n\t} from 'vue'\r\n\timport {\r\n\t\tapiGetLimitData,\r\n\t\tapiGetUserLimitData\r\n\t} from '../../api/apis';\r\n\r\n\r\n\t// 分享功能给好友 \r\n\tonShareAppMessage(() => {\r\n\t\treturn {\r\n\t\t\ttitle: \"分享给朋友\" + limitLocalName.value,\r\n\t\t\tpath: \"/pages/limitList/limitList?id=\" + limitLocalData.classid + \"&name=\" + limitLocalName.value\r\n\t\t}\r\n\t})\r\n\r\n\t// 分享功能到朋友圈\r\n\tonShareTimeline(() => {\r\n\t\treturn {\r\n\t\t\ttitle: \"分享到朋友圈\",\r\n\t\t\timageUrl: ''\r\n\t\t}\r\n\t})\r\n\r\n\tconst limitData = ref([]);\r\n\tconst limitLocalData = {\r\n\t\tpageNum: 1,\r\n\t\tpageSize: 12\r\n\t}\r\n\tconst requireBool = ref(false)\r\n\tconst limitLocalName = ref(null)\r\n\r\n\tonLoad((e) => {\r\n\t\tlet {\r\n\t\t\tid,\r\n\t\t\tname,\r\n\t\t\ttype\r\n\t\t} = e;\r\n\t\tif (type) limitLocalData.type = type;\r\n\t\tif (id) limitLocalData.classid = id;\r\n\t\tlimitLocalName.value = name;\r\n\t\tuni.setNavigationBarTitle({\r\n\t\t\ttitle: name,\r\n\t\t})\r\n\r\n\t\tgetLimitData();\r\n\t})\r\n\r\n\r\n\tonReachBottom(() => {\r\n\t\tif (requireBool.value) return\r\n\t\tlimitLocalData.pageNum++;\r\n\t\tgetLimitData();\r\n\t})\r\n\r\n\tconst getLimitData = async () => {\r\n\t\tlet res;\r\n\t\tif (limitLocalData.classid) res = await apiGetLimitData(limitLocalData);\r\n\t\tif (limitLocalData.type) res = await apiGetUserLimitData(limitLocalData);\r\n\t\tlimitData.value = [...limitData.value, ...res.data];\r\n\t\tif (limitLocalData.pageSize > res.data) requireBool.value = true\r\n\t\tuni.setStorageSync(\"limitData\", limitData.value)\r\n\t} \r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n\t.limit {\r\n\t\t.centent {\r\n\t\t\tdisplay: grid;\r\n\t\t\tgrid-template-columns: repeat(3, 1fr);\r\n\t\t\tgap: 5rpx;\r\n\t\t\tpadding: 5rpx;\r\n\r\n\t\t\t.item {\r\n\t\t\t\theight: 440rpx;\r\n\r\n\t\t\t\timage {\r\n\t\t\t\t\twidth: 100%;\r\n\t\t\t\t\theight: 100%;\r\n\t\t\t\t\tdisplay: block;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</style>","import MiniProgramPage from 'E:/VsCodePro/UniAppStudy/project/pages/limitList/limitList.vue'\nwx.createPage(MiniProgramPage)"],"mappings":";;;;;;;;;;;;;;;;;;;;;IAuBAA,aAAA,CAAAC,iBAAA;MAiBA;QACAC,KAAA,YAAAC,cAAA,CAAAC,KAAA;QACAC,IAAA,qCAAAC,cAAA,CAAAC,OAAA,cAAAJ,cAAA,CAAAC;MACA;IACA;IAGAJ,aAAA,CAAAQ,eAAA;MACA;QACAN,KAAA;QACAO,QAAA;MACA;IACA;IAEA,IAAAC,SAAA,GAAAV,aAAA,CAAAW,GAAA;IACA,IAAAL,cAAA;MACAM,OAAA;MACAC,QAAA;IACA;IACA,IAAAC,WAAA,GAAAd,aAAA,CAAAW,GAAA;IACA,IAAAR,cAAA,GAAAH,aAAA,CAAAW,GAAA;IAEAX,aAAA,CAAAe,MAAA,WAAAC,CAAA;MACA,IACAC,EAAA,GAGAD,CAAA,CAHAC,EAAA;QACAC,IAAA,GAEAF,CAAA,CAFAE,IAAA;QACAC,IAAA,GACAH,CAAA,CADAG,IAAA;MAEA,IAAAA,IAAA,EAAAb,cAAA,CAAAa,IAAA,GAAAA,IAAA;MACA,IAAAF,EAAA,EAAAX,cAAA,CAAAC,OAAA,GAAAU,EAAA;MACAd,cAAA,CAAAC,KAAA,GAAAc,IAAA;MACAlB,aAAA,CAAAoB,KAAA,CAAAC,qBAAA;QACAnB,KAAA,EAAAgB;MACA;MAEAI,YAAA;IACA;IAGAtB,aAAA,CAAAuB,aAAA;MACA,IAAAT,WAAA,CAAAV,KAAA;MACAE,cAAA,CAAAM,OAAA;MACAU,YAAA;IACA;IAEA,IAAAA,YAAA;MAAA,IAAAE,IAAA,GAAAC,kBAAA,eAAAC,oBAAA,GAAAC,IAAA,UAAAC,QAAA;QAAA,IAAAC,GAAA;QAAA,OAAAH,oBAAA,GAAAI,IAAA,UAAAC,SAAAC,QAAA;UAAA,kBAAAA,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA;YAAA;cAAA,KAEA5B,cAAA,CAAAC,OAAA;gBAAAyB,QAAA,CAAAE,IAAA;gBAAA;cAAA;cAAAF,QAAA,CAAAE,IAAA;cAAA,OAAAC,QAAA,CAAAC,eAAA,CAAA9B,cAAA;YAAA;cAAAuB,GAAA,GAAAG,QAAA,CAAAK,IAAA;YAAA;cAAA,KACA/B,cAAA,CAAAa,IAAA;gBAAAa,QAAA,CAAAE,IAAA;gBAAA;cAAA;cAAAF,QAAA,CAAAE,IAAA;cAAA,OAAAC,QAAA,CAAAG,mBAAA,CAAAhC,cAAA;YAAA;cAAAuB,GAAA,GAAAG,QAAA,CAAAK,IAAA;YAAA;cACA3B,SAAA,CAAAN,KAAA,MAAAmC,MAAA,CAAAC,mBAAA,CAAA9B,SAAA,CAAAN,KAAA,GAAAoC,mBAAA,CAAAX,GAAA,CAAAY,IAAA;cACA,IAAAnC,cAAA,CAAAO,QAAA,GAAAgB,GAAA,CAAAY,IAAA,EAAA3B,WAAA,CAAAV,KAAA;cACAJ,aAAA,CAAAoB,KAAA,CAAAsB,cAAA,cAAAhC,SAAA,CAAAN,KAAA;YAAA;YAAA;cAAA,OAAA4B,QAAA,CAAAW,IAAA;UAAA;QAAA,GAAAf,OAAA;MAAA,CACA;MAAA,gBAPAN,aAAA;QAAA,OAAAE,IAAA,CAAAoB,KAAA,OAAAC,SAAA;MAAA;IAAA,GAOA;;;;;;;;;;;;;;;;;;;;;;;;;;;AC3FAC,EAAA,CAAGC,UAAA,CAAWC,eAAe","ignoreList":[]}