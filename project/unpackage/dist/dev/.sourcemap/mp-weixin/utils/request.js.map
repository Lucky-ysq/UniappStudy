{"version":3,"file":"request.js","sources":["utils/request.js"],"sourcesContent":["export function request(config={}){\r\n\tlet BASE_URL = \"https://tea.qingnian8.com/api/bizhi\"\r\n\t\r\n\tlet {\r\n\t\turl,\r\n\t\theader={},\r\n\t\tmethod=\"GET\",\r\n\t\tdata={}\r\n\t} = config\r\n\t\r\n\turl = BASE_URL + url;\r\n\theader['access-key'] = 253016\r\n\t\r\n\treturn new Promise((resolve,reject) => {\r\n\t\tuni.request({\r\n\t\t\turl,\r\n\t\t\theader,\r\n\t\t\tmethod,\r\n\t\t\tdata,\r\n\t\t\tsuccess: (v) => {\r\n\t\t\t\tif(v.data.errCode === 0){\r\n\t\t\t\t\tresolve(v.data);\r\n\t\t\t\t}else if(v.data.errCode === 400){\r\n\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t\ttitle:\"请求失败\",\r\n\t\t\t\t\t\tcontent:v.data.errMsg,\r\n\t\t\t\t\t\tshowCancel:false\r\n\t\t\t\t\t})\r\n\t\t\t\t\treject(v.data)\r\n\t\t\t\t}else{\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle:v.data.errMsg,\r\n\t\t\t\t\t})\r\n\t\t\t\t\treject(v.data)\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tfail: (err) => {\r\n\t\t\t\treturn err;\r\n\t\t\t}\r\n\t\t})\r\n\t})\r\n}"],"names":["uni"],"mappings":";;AAAO,SAAS,QAAQ,SAAO,IAAG;AACjC,MAAI,WAAW;AAEf,MAAI;AAAA,IACH;AAAA,IACA,SAAO,CAAE;AAAA,IACT,SAAO;AAAA,IACP,OAAK,CAAE;AAAA,EACT,IAAK;AAEJ,QAAM,WAAW;AACjB,SAAO,YAAY,IAAI;AAEvB,SAAO,IAAI,QAAQ,CAAC,SAAQ,WAAW;AACtCA,kBAAAA,MAAI,QAAQ;AAAA,MACX;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA,SAAS,CAAC,MAAM;AACf,YAAG,EAAE,KAAK,YAAY,GAAE;AACvB,kBAAQ,EAAE,IAAI;AAAA,QACd,WAAQ,EAAE,KAAK,YAAY,KAAI;AAC/BA,wBAAAA,MAAI,UAAU;AAAA,YACb,OAAM;AAAA,YACN,SAAQ,EAAE,KAAK;AAAA,YACf,YAAW;AAAA,UACjB,CAAM;AACD,iBAAO,EAAE,IAAI;AAAA,QAClB,OAAS;AACJA,wBAAAA,MAAI,UAAU;AAAA,YACb,OAAM,EAAE,KAAK;AAAA,UACnB,CAAM;AACD,iBAAO,EAAE,IAAI;AAAA,QACb;AAAA,MACD;AAAA,MACD,MAAM,CAAC,QAAQ;AACd,eAAO;AAAA,MACP;AAAA,IACJ,CAAG;AAAA,EACH,CAAE;AACF;;"}