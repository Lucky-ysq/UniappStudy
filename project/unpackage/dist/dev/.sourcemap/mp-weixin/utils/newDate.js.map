{"version":3,"file":"newDate.js","sources":["utils/newDate.js"],"sourcesContent":["/**\n * 根据时间戳返回相对时间描述\n * @param {number|string|Date} timestamp - 时间戳 (毫秒)、日期字符串或 Date 对象\n * @returns {string|null} 相对时间描述，超过3个月返回 null\n */\nexport function formatRelativeTime(timestamp) {\n    // 1. 确保输入转换为毫秒级时间戳\n    const targetTime = new Date(timestamp).getTime();\n    const now = Date.now();\n    \n    // 处理无效时间\n    if (isNaN(targetTime)) {\n        console.error(\"无效的时间戳\");\n        return null;\n    }\n\n    // 2. 计算时间差 (毫秒)\n    const diff = now - targetTime;\n\n    // 如果时间在未来 (容错处理)，或者刚刚发生\n    if (diff < 0) return \"1分钟内\"; \n\n    // 3. 定义时间单位常量 (毫秒)\n    const minute = 60 * 1000;\n    const hour = 60 * minute;\n    const day = 24 * hour;\n    const month = 30 * day; // 此处按一个月30天估算\n\n    // 4. 逻辑判断\n    if (diff < minute) {\n        return \"1分钟内\";\n    } else if (diff < hour) {\n        const minutes = Math.floor(diff / minute);\n        return `${minutes}分钟前`;\n    } else if (diff < day) {\n        const hours = Math.floor(diff / hour);\n        return `${hours}小时前`;\n    } else if (diff < month) {\n        const days = Math.floor(diff / day);\n        return `${days}天前`;\n    } else if (diff < 12 * month) {\n        const months = Math.floor(diff / month);\n        return `${months}个月前`;\n    } else {\n        // 超过三个月\n        return null;\n    }\n}"],"names":["uni"],"mappings":";;AAKO,SAAS,mBAAmB,WAAW;AAE1C,QAAM,aAAa,IAAI,KAAK,SAAS,EAAE,QAAO;AAC9C,QAAM,MAAM,KAAK;AAGjB,MAAI,MAAM,UAAU,GAAG;AACnBA,kBAAAA,MAAA,MAAA,SAAA,0BAAc,QAAQ;AACtB,WAAO;AAAA,EACV;AAGD,QAAM,OAAO,MAAM;AAGnB,MAAI,OAAO;AAAG,WAAO;AAGrB,QAAM,SAAS,KAAK;AACpB,QAAM,OAAO,KAAK;AAClB,QAAM,MAAM,KAAK;AACjB,QAAM,QAAQ,KAAK;AAGnB,MAAI,OAAO,QAAQ;AACf,WAAO;AAAA,EACf,WAAe,OAAO,MAAM;AACpB,UAAM,UAAU,KAAK,MAAM,OAAO,MAAM;AACxC,WAAO,GAAG,OAAO;AAAA,EACzB,WAAe,OAAO,KAAK;AACnB,UAAM,QAAQ,KAAK,MAAM,OAAO,IAAI;AACpC,WAAO,GAAG,KAAK;AAAA,EACvB,WAAe,OAAO,OAAO;AACrB,UAAM,OAAO,KAAK,MAAM,OAAO,GAAG;AAClC,WAAO,GAAG,IAAI;AAAA,EACtB,WAAe,OAAO,KAAK,OAAO;AAC1B,UAAM,SAAS,KAAK,MAAM,OAAO,KAAK;AACtC,WAAO,GAAG,MAAM;AAAA,EACxB,OAAW;AAEH,WAAO;AAAA,EACV;AACL;;"}