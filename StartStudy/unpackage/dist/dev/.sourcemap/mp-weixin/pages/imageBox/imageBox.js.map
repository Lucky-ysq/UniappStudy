{"version":3,"file":"imageBox.js","sources":["pages/imageBox/imageBox.vue","F:/HBuilder/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvaW1hZ2VCb3gvaW1hZ2VCb3gudnVl"],"sourcesContent":["<template>\r\n\t<view>\r\n\t\t<view class=\"bodyImg\">\r\n\r\n\t\t\t<view class=\"box\" v-for=\"(item,index) in data\" :key=\"data.id\">\r\n\t\t\t\t<view class=\"pic\">\r\n\t\t\t\t\t<image lazy-load :src=\"item.url\" alt=\"\" mode=\"widthFix\" @click=\"bigImg(index)\"></image>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"text\">\r\n\t\t\t\t\t{{ item.id }}\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\r\n\t\t<view class=\"buttonSty\">\r\n\t\t\t<view class=\"item\" @click=\"toUp\">\r\n\t\t\t\t<uni-icons type=\"arrow-up\" size=\"30\"></uni-icons>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"item\" @click=\"PullRefresh\">\r\n\t\t\t\t<uni-icons type=\"refreshempty\" size=\"30\"></uni-icons>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\r\n\t\t<view class=\"loadImg\">\r\n\t\t\t<uni-load-more status=\"loading\"></uni-load-more>\r\n\t\t</view>\r\n\r\n\t</view>\r\n</template>\r\n\r\n<script setup>\r\n\timport {\r\n\t\tref\r\n\t} from 'vue';\r\n\timport {\r\n\t\tonReachBottom,\r\n\t\tonPullDownRefresh\r\n\t} from '@dcloudio/uni-app';\r\n\r\n\trequest();\r\n\tconst data = ref([]);\r\n\r\n\t//网络请求\r\n\tfunction request() {\r\n\r\n\t\tuni.showLoading({\r\n\t\t\ttitle: '加载中'\r\n\t\t});\r\n\t\tuni.request({\r\n\t\t\turl: \"https://tea.qingnian8.com/tools/taoShow\",\r\n\t\t\tdata: {\r\n\t\t\t\tsize: 10\r\n\t\t\t},\r\n\t\t\theader:{\r\n\t\t\t\t\"access-key\":\"992017\"\r\n\t\t\t}\r\n\t\t}).then(res => {\r\n\t\t\tdata.value = [...data.value, ...res.data.data];\r\n\t\t}).finally(() => {\r\n\t\t\tuni.hideLoading();\r\n\t\t\tuni.stopPullDownRefresh();\r\n\t\t})\r\n\t}\r\n\r\n\r\n\r\n\t//预览图片\r\n\tfunction bigImg(i) {\r\n\t\tuni.previewImage({\r\n\t\t\turls: data.value.map(item => item.url),\r\n\t\t\tcurrent: i\r\n\t\t})\r\n\t}\r\n\r\n\t//触底刷新\r\n\tonReachBottom(() => {\r\n\t\trequest();\r\n\t})\r\n\r\n\t//监听下拉刷新\r\n\tonPullDownRefresh(() => {\r\n\t\tdata.value = [];\r\n\t\trequest();\r\n\t})\r\n\r\n\t//下拉刷新\r\n\tfunction PullRefresh() {\r\n\t\tuni.startPullDownRefresh();\r\n\t}\r\n\r\n\r\n\r\n\t//返回顶部\r\n\tfunction toUp() {\r\n\t\tuni.pageScrollTo({\r\n\t\t\tscrollTop: 0,\r\n\t\t\tduration: 300\r\n\t\t});\r\n\t}\r\n</script>\r\n\r\n\r\n<style scoped>\r\n\t.bodyImg {\r\n\t\tpadding: 50rpx;\r\n\t}\r\n\r\n\t.box {\r\n\t\tmargin-bottom: 40rpx;\r\n\t\tbox-shadow: 0 10rpx 30rpx rgba(0, 0, 0, 0.08);\r\n\t\tborder-radius: 30rpx;\r\n\t}\r\n\r\n\t.pic image {\r\n\t\twidth: 100%;\r\n\t}\r\n\r\n\t.text {\r\n\t\tpadding: 20rpx 0;\r\n\t\tfont-size: 32rpx;\r\n\t\ttext-align: center;\r\n\t}\r\n\r\n\t.buttonSty {\r\n\t\tposition: fixed;\r\n\t\tbottom: 80rpx;\r\n\t\tright: 20rpx;\r\n\t\tpadding-bottom: env(safe-area-inset-bottom);\r\n\t}\r\n\r\n\t.item {\r\n\t\twidth: 90rpx;\r\n\t\theight: 90rpx;\r\n\t\tborder-radius: 50%;\r\n\t\tbackground-color: rgba(255, 255, 255, 0.9);\r\n\t\tmargin-bottom: 20rpx;\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tjustify-content: center;\r\n\t\tborder: 1px solid #8b8585;\r\n\t}\r\n\r\n\t.loadImg {\r\n\t\tpadding-bottom: calc(env(safe-area-inset-bottom) + 50rpx);\r\n\t}\r\n</style>","import MiniProgramPage from 'E:/VsCodePro/UniAppStudy/StartStudy/pages/imageBox/imageBox.vue'\nwx.createPage(MiniProgramPage)"],"names":["ref","uni","onReachBottom","onPullDownRefresh"],"mappings":";;;;;;;;;;;;;;;AAuCC;AACA,UAAM,OAAOA,kBAAI,CAAA,CAAE;AAGnB,aAAS,UAAU;AAElBC,oBAAAA,MAAI,YAAY;AAAA,QACf,OAAO;AAAA,MACV,CAAG;AACDA,oBAAAA,MAAI,QAAQ;AAAA,QACX,KAAK;AAAA,QACL,MAAM;AAAA,UACL,MAAM;AAAA,QACN;AAAA,QACD,QAAO;AAAA,UACN,cAAa;AAAA,QACb;AAAA,MACJ,CAAG,EAAE,KAAK,SAAO;AACd,aAAK,QAAQ,CAAC,GAAG,KAAK,OAAO,GAAG,IAAI,KAAK,IAAI;AAAA,MAChD,CAAG,EAAE,QAAQ,MAAM;AAChBA,sBAAG,MAAC,YAAW;AACfA,sBAAG,MAAC,oBAAmB;AAAA,MAC1B,CAAG;AAAA,IACD;AAKD,aAAS,OAAO,GAAG;AAClBA,oBAAAA,MAAI,aAAa;AAAA,QAChB,MAAM,KAAK,MAAM,IAAI,UAAQ,KAAK,GAAG;AAAA,QACrC,SAAS;AAAA,MACZ,CAAG;AAAA,IACD;AAGDC,kBAAAA,cAAc,MAAM;AACnB;IACF,CAAE;AAGDC,kBAAAA,kBAAkB,MAAM;AACvB,WAAK,QAAQ;AACb;IACF,CAAE;AAGD,aAAS,cAAc;AACtBF,oBAAG,MAAC,qBAAoB;AAAA,IACxB;AAKD,aAAS,OAAO;AACfA,oBAAAA,MAAI,aAAa;AAAA,QAChB,WAAW;AAAA,QACX,UAAU;AAAA,MACb,CAAG;AAAA,IACD;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACjGF,GAAG,WAAW,eAAe;"}